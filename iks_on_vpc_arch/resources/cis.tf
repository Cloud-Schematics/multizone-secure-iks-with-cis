##############################################################################
# Create CIS Instance
##############################################################################

resource ibm_cis cis {
    name              = "${var.unique_id}-cis"
    plan              = var.cis_plan
    location          = "global"
    resource_group_id = var.resource_group_id
}

##############################################################################


##############################################################################
# Create CIS Domain and Settings
##############################################################################

resource ibm_cis_domain domain {
    cis_id = ibm_cis.cis.id
    domain = var.domain
}

##############################################################################